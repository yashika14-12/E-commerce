(this.webpackJsonpevestore=this.webpackJsonpevestore||[]).push([[0],{124:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=a(6),l=a.n(i),u=a(12),s=a(18),m=a(174),p=a(21),d=a(13),f=a(156),b=a(158),E=a(47),h=a(159),g=a(160),v=a(161),y=a(11),x=a(153),k=a(15),w=Object(x.a)((function(e){return{appBar:Object(y.a)({boxShadow:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(0,"px)"),marginLeft:0}),title:{flexGrow:1,alignItems:"center",display:"flex",textDecoration:"none"},image:{marginRight:"10px"},grow:{flexGrow:1},search:Object(y.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(k.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(k.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(y.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}})),j=function(e){var t=e.totalItems,a=w(),n=Object(d.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{position:"fixed",className:a.appBar,color:"inherit"},r.a.createElement(b.a,null,r.a.createElement(E.a,{component:p.b,to:"/",variant:"h6",className:a.title,color:"inherit"},"EveStore"),r.a.createElement("div",{className:a.grow}),"/"===n.pathname&&r.a.createElement("div",{className:a.button},r.a.createElement(h.a,{component:p.b,to:"/cart","aria-label":"Show cart items",color:"inherit"},r.a.createElement(g.a,{badgeContent:t,color:"secondary"},r.a.createElement(v.a,null)))))))},C=a(167),O=a(162),N=a(163),S=a(164),_=a(165),B=a(166),T=Object(x.a)((function(){return{root:{maxWidth:"100%"},media:{height:0,paddingTop:"56.25%"},cardActions:{display:"flex",justifyContent:"flex-end"},cardContent:{display:"flex",justifyContent:"space-between"}}})),R=function(e){var t=e.product,a=e.onAddToCart,n=T();return r.a.createElement(O.a,{className:n.root},r.a.createElement(N.a,{className:n.media,image:t.media.source,title:t.name}),r.a.createElement(S.a,null,r.a.createElement("div",{className:n.cardContent},r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.name),r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.price.formatted_with_symbol)),r.a.createElement(E.a,{dangerouslySetInnerHTML:{__html:t.description},variant:"body2",color:"textSecondary",component:"p"})),r.a.createElement(_.a,{disableSpacing:!0,className:n.cardActions},r.a.createElement(h.a,{"aria-label":"Add to Cart",onClick:function(){return a(t.id,1)}},r.a.createElement(B.a,null))))},q=Object(x.a)((function(e){return{toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)},root:{flexGrow:1}}})),A=function(e){var t=e.products,a=e.onAddToCart,n=q();return t.length?r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),r.a.createElement(C.a,{container:!0,justify:"center",spacing:4},t.map((function(e){return r.a.createElement(C.a,{key:e.id,item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(R,{product:e,onAddToCart:a}))})))):r.a.createElement("p",null,"Loading...")},F=a(168),I=a(169),L=Object(x.a)((function(){return{media:{height:260},cardContent:{display:"flex",justifyContent:"space-between"},cartActions:{justifyContent:"space-between"},buttons:{display:"flex",alignItems:"center"}}})),D=function(e){var t=e.item,a=e.onUpdateCartQty,n=e.onRemoveFromCart,c=L(),o=function(e,t){return a(e,t)};return r.a.createElement(O.a,{className:"cart-item"},r.a.createElement(N.a,{image:t.media.source,alt:t.name,className:c.media}),r.a.createElement(S.a,{className:c.cardContent},r.a.createElement(E.a,{variant:"h5"},t.name),r.a.createElement(E.a,{variant:"h6"},t.line_total.formatted_with_symbol)),r.a.createElement(_.a,{className:c.cardActions},r.a.createElement("div",{className:c.buttons},r.a.createElement(F.a,{type:"button",size:"small",onClick:function(){return o(t.id,t.quantity-1)}},"-"),r.a.createElement(E.a,null,"\xa0",t.quantity,"\xa0"),r.a.createElement(F.a,{type:"button",size:"small",onClick:function(){return o(t.id,t.quantity+1)}},"+")),r.a.createElement(F.a,{variant:"contained",type:"button",color:"secondary",onClick:function(){return e=t.id,n(e);var e}},"Remove")))},P=Object(x.a)((function(e){var t;return{toolbar:e.mixins.toolbar,title:{marginTop:"5%"},emptyButton:(t={minWidth:"150px"},Object(y.a)(t,e.breakpoints.down("xs"),{marginBottom:"5px"}),Object(y.a)(t,e.breakpoints.up("xs"),{marginRight:"20px"}),t),checkoutButton:{minWidth:"150px"},link:{textDecoration:"none"},cardDetails:{display:"flex",marginTop:"10%",width:"100%",justifyContent:"space-between"}}})),Q=function(e){var t=e.cart,a=e.onUpdateCartQty,n=e.onRemoveFromCart,c=e.onEmptyCart,o=P(),i=function(){return c()};if(!t.line_items)return"Loading";return r.a.createElement(I.a,null,r.a.createElement("div",{className:o.toolbar}),r.a.createElement(E.a,{className:o.title,variant:"h3",gutterBottom:!0},"Your Shopping Cart"),t.line_items.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{container:!0,spacing:3},t.line_items.map((function(e){return r.a.createElement(C.a,{item:!0,xs:12,sm:4,key:e.id},r.a.createElement(D,{item:e,onUpdateCartQty:a,onRemoveFromCart:n}))}))),r.a.createElement("div",{className:o.cardDetails},r.a.createElement(E.a,{variant:"h4"},"Subtotal: ",t.subtotal.formatted_with_symbol),r.a.createElement("div",null,r.a.createElement(F.a,{className:o.emptyButton,size:"large",type:"button",variant:"contained",color:"secondary",onClick:i},"Empty cart"),r.a.createElement(F.a,{className:o.checkoutButton,component:p.b,to:"/checkout",size:"large",type:"button",variant:"contained",color:"primary"},"Checkout")))):r.a.createElement(E.a,{variant:"subtitle1"},"You have no items in your shopping cart,",r.a.createElement(p.b,{className:o.link,to:"/"},"start adding some"),"!"))},U=a(173),W=a(72),z=a(178),G=a(175),J=a(177),Y=a(69),H=new(a.n(Y).a)("pk_184625ed86f36703d7d233bcf6d519a4f9398f20048ec"),M=a(70),K=a(38),V=a(176);var X=function(e){var t=e.name,a=e.label,n=e.required,c=Object(K.d)().control;return r.a.createElement(C.a,{item:!0,xs:12,sm:6},r.a.createElement(K.a,{as:V.a,name:t,control:c,label:a,fullWidth:!0,required:n,error:!1}))},Z=function(e){var t=e.test,a=Object(K.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{variant:"h6",gutterBottom:!0},"Shipping address"),r.a.createElement(K.b,a,r.a.createElement("form",{onSubmit:a.handleSubmit((function(e){return t(Object(M.a)({},e))}))},r.a.createElement(C.a,{container:!0,spacing:3},r.a.createElement(X,{required:!0,name:"firstName",label:"First name"}),r.a.createElement(X,{required:!0,name:"lastName",label:"Last name"}),r.a.createElement(X,{required:!0,name:"address1",label:"Address line 1"}),r.a.createElement(X,{required:!0,name:"email",label:"Email"}),r.a.createElement(X,{required:!0,name:"city",label:"City"}),r.a.createElement(X,{required:!0,name:"pin",label:"Postal code"}),r.a.createElement(X,{required:!0,name:"state",label:"State"})),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(F.a,{component:p.b,variant:"outlined",to:"/cart"},"Back to Cart"),r.a.createElement(F.a,{type:"submit",variant:"contained",color:"primary"},"Next")))))},$=a(170),ee=a(171),te=a(172),ae=function(e){var t=e.checkoutToken;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{variant:"h6",gutterBottom:!0},"Order summary"),r.a.createElement($.a,{disablePadding:!0},t.live.line_items.map((function(e){return r.a.createElement(ee.a,{style:{padding:"10px 0"},key:e.name},r.a.createElement(te.a,{primary:e.name,secondary:"Quantity: ".concat(e.quantity)}),r.a.createElement(E.a,{variant:"body2"},e.line_total.formatted_with_symbol))})),r.a.createElement(ee.a,{style:{padding:"10px 0"}},r.a.createElement(te.a,{primary:"Total"}),r.a.createElement(E.a,{variant:"subtitle1",style:{fontWeight:700}},t.live.subtotal.formatted_with_symbol))))},ne=function(e){var t=e.checkoutToken,a=e.nextStep,c=e.backStep,o=e.onCaptureCheckout,i=Object(n.useRef)();return Object(n.useEffect)((function(){window.paypal.Buttons({createOrder:function(e,a,n){return a.order.create({intent:"CAPTURE",purchase_units:[{description:"",amount:{currency_code:"INR",value:t.live.subtotal.raw}}]})},onApprove:function(){var e=Object(u.a)(l.a.mark((function e(n,r){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.order.capture();case 2:c=e.sent,o(t.id,c),a();case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),onError:function(e){console.log(e)}}).render(i.current)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{checkoutToken:t}),r.a.createElement(U.a,null),r.a.createElement(E.a,{variant:"h6",gutterBottom:!0,style:{margin:"20px 0"}},"Payment method"),r.a.createElement("div",{ref:i}),r.a.createElement(F.a,{variant:"outlined",onClick:c},"Back"))},re=Object(x.a)((function(e){var t;return{appBar:{position:"relative"},toolbar:e.mixins.toolbar,layout:Object(y.a)({marginTop:"5%",width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:(t={marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},Object(y.a)(t,e.breakpoints.down("xs"),{width:"100%",marginTop:60}),Object(y.a)(t,e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),t),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},divider:{margin:"20px 0"},spinner:{display:"flex",justifyContent:"center",alignItems:"center"}}})),ce=["Shipping address","Payment details"],oe=function(e){var t=e.cart,a=e.onCaptureCheckout,c=e.order,o=Object(n.useState)(null),i=Object(s.a)(o,2),f=i[0],b=i[1],h=Object(n.useState)(0),g=Object(s.a)(h,2),v=g[0],y=g[1],x=Object(n.useState)({}),k=Object(s.a)(x,2),w=k[0],j=k[1],C=re(),O=Object(d.f)(),N=function(){return y((function(e){return e+1}))},S=function(){return y((function(e){return e-1}))};Object(n.useEffect)((function(){t.id&&function(){var e=Object(u.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.checkout.generateToken(t.id,{type:"cart"});case 3:a=e.sent,b(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v!==ce.length&&O.push("/");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[t]);var _=function(e){j(e),N()},B=function(){return c.customer=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(E.a,{variant:"h5"},"Thank you for your purchase, ",c.customer.firstname," ",c.customer.lastname,"!"),r.a.createElement(U.a,{className:C.divider}),r.a.createElement(E.a,{variant:"subtitle2"},"Order ref: ",c.customer_reference)),r.a.createElement("br",null),r.a.createElement(F.a,{component:p.b,variant:"outlined",type:"button",to:"/"},"Back to home"))},T=function(){return 0===v?r.a.createElement(Z,{nextStep:N,setShippingData:j,test:_}):r.a.createElement(ne,{checkoutToken:f,nextStep:N,backStep:S,shippingData:w,onCaptureCheckout:a})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null),r.a.createElement("div",{className:C.toolbar}),r.a.createElement("main",{className:C.layout},r.a.createElement(W.a,{className:C.paper},r.a.createElement(E.a,{variant:"h4",align:"center"},"Checkout"),r.a.createElement(z.a,{activeStep:v,className:C.stepper},ce.map((function(e){return r.a.createElement(G.a,{key:e},r.a.createElement(J.a,null,e))}))),v===ce.length?r.a.createElement(B,null):f&&r.a.createElement(T,null))))},ie=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({}),i=Object(s.a)(o,2),f=i[0],b=i[1],E=Object(n.useState)({}),h=Object(s.a)(E,2),g=h[0],v=h[1],y=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.products.list();case 2:t=e.sent,a=t.data,c(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,H.cart.retrieve();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.cart.add(t,a);case 2:n=e.sent,b(n.cart);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.cart.update(t,{quantity:a});case 2:n=e.sent,b(n.cart);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.cart.remove(t);case 2:a=e.sent,b(a.cart);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.cart.empty();case 2:t=e.sent,b(t.cart);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.cart.refresh();case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.checkout.capture(t,a);case 3:n=e.sent,v(n),N(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.data.error.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){y(),x()}),[]),r.a.createElement(p.a,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(m.a,null),r.a.createElement(j,{totalItems:f.total_items}),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/"},r.a.createElement(A,{products:a,onAddToCart:k})),r.a.createElement(d.a,{exact:!0,path:"/cart"},r.a.createElement(Q,{cart:f,onUpdateCartQty:w,onRemoveFromCart:C,onEmptyCart:O})),r.a.createElement(d.a,{path:"/checkout",exact:!0},r.a.createElement(oe,{cart:f,order:g,onCaptureCheckout:S})))))};o.a.render(r.a.createElement(ie,null),document.getElementById("root"))},82:function(e,t,a){e.exports=a(124)}},[[82,1,2]]]);
//# sourceMappingURL=main.8a873908.chunk.js.map